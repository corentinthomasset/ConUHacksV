{"remainingRequest":"/Users/corentin/Desktop/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/corentin/Desktop/ui/src/views/Box.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/corentin/Desktop/ui/src/views/Box.vue","mtime":1580038703840},{"path":"/Users/corentin/Desktop/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCb3ggZnJvbSAiLi4vc3RvcmUvTW9kZWxzL0JveCI7CmltcG9ydCBPdmVydmlld0NhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9PdmVydmlld0NhcmQiOwppbXBvcnQgVXNlciBmcm9tICIuLi9zdG9yZS9Nb2RlbHMvVXNlciI7CmltcG9ydCBBY3Rpb24gZnJvbSAnLi4vYWN0aW9uJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJCb3giLAogICAgY29tcG9uZW50czoge092ZXJ2aWV3Q2FyZH0sCiAgICBwcm9wczogWydib3hJZCddLAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBib3goKXsKICAgICAgICAgICAgcmV0dXJuIEJveC5maW5kKHRoaXMuYm94SWQpOwogICAgICAgIH0sCiAgICAgICAgcmVjYXAoKXsKICAgICAgICAgICAgbGV0IGZsYWcgPSB0aGlzLmJveC5mbGFnOwogICAgICAgICAgICBpZihmbGFnKXsKICAgICAgICAgICAgICAgIHJldHVybiBgWW91IGhhdmUgbWFpbCFgOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGBCb3ggaXMgZW1wdHkhYAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhY3Rpb25JY29uKCl7CiAgICAgICAgICAgIGlmKHRoaXMuYm94Lm9wZW4pewogICAgICAgICAgICAgICAgcmV0dXJuIFsnZmFsJywgJ2xvY2stb3BlbiddOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIFsnZmFsJywgJ2xvY2snXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWN0aW9uKCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmJveC5vcGVuID8gJ0xvY2snIDogJ1VubG9jayc7CiAgICAgICAgfSwKICAgICAgICBkZWxpdmVyeSgpewogICAgICAgICAgICByZXR1cm4gVXNlci5xdWVyeSgpLndpdGgoJ2JveGVzJykuYWxsKClbMF0uZGVsaXZlcnlTZXJ2aWNlOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ29CYWNrKCl7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnaG9tZSd9KTsKICAgICAgICB9LAogICAgICAgIGRvU3R1ZmYoKXsKICAgICAgICAgICAgaWYodGhpcy5ib3gub3Blbil7CiAgICAgICAgICAgICAgICBBY3Rpb24ubG9jayh0aGlzLmJveC5pZCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBBY3Rpb24udW5sb2NrKHRoaXMuYm94LmlkKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Box.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Box.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div id=\"box\">\n        <font-awesome-icon @click=\"goBack()\" class=\"back\" :icon=\"['fal', 'arrow-left']\" v-if=\"!delivery\"/>\n        <div id=\"header\">\n            <h1>{{box.name}}</h1>\n            <h5>{{box.address}}</h5>\n        </div>\n        <OverviewCard v-if=\"!delivery\">\n            <h1>{{recap}}</h1>\n            <h2>Last check <timeago :datetime=\"+box.lastChecked\"/></h2>\n        </OverviewCard>\n        <div id=\"action_button\" :lock=\"box.open\" @click=\"doStuff()\">\n            <div>\n                <font-awesome-icon class=\"icon\" :icon=\"actionIcon\"/>\n                <h1>{{action}}</h1>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Box from \"../store/Models/Box\";\nimport OverviewCard from \"../components/OverviewCard\";\nimport User from \"../store/Models/User\";\nimport Action from '../action';\n\nexport default {\n    name: \"Box\",\n    components: {OverviewCard},\n    props: ['boxId'],\n    computed: {\n        box(){\n            return Box.find(this.boxId);\n        },\n        recap(){\n            let flag = this.box.flag;\n            if(flag){\n                return `You have mail!`;\n            } else {\n                return `Box is empty!`\n            }\n        },\n        actionIcon(){\n            if(this.box.open){\n                return ['fal', 'lock-open'];\n            } else {\n                return ['fal', 'lock'];\n            }\n        },\n        action(){\n            return this.box.open ? 'Lock' : 'Unlock';\n        },\n        delivery(){\n            return User.query().with('boxes').all()[0].deliveryService;\n        }\n    },\n    methods: {\n        goBack(){\n            this.$router.push({name: 'home'});\n        },\n        doStuff(){\n            if(this.box.open){\n                Action.lock(this.box.id);\n            } else {\n                Action.unlock(this.box.id);\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.back{\n    font-size: 1.5em;\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    opacity: .5;\n}\n#action_button{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 100px auto;\n    width: 150px;\n    height: 150px;\n    background: #fff;\n    border-radius: 100%;\n    text-align: center;\n    cursor: pointer;\n}\n\n#action_button .icon{\n    font-size: 2.5em;\n}\n\n#action_button h1{\n    font-weight: 300;\n    font-size: 1.5em;\n    margin: 0;\n}\n\n#action_button[lock]{\n    color: #ff015f;\n    border: 1px solid #ff015f;\n    animation: redPulse 2s infinite;\n}\n\n#action_button:not([lock]){\n    color: #07ff75;\n    border: 1px solid #07ff75;\n    animation: greenPulse 2s infinite;\n}\n\n@keyframes greenPulse {\n     0% {\n         box-shadow: 0 0 0 0 rgba(7, 255, 117, 0.75), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n     }\n\n     70% {\n         box-shadow: 0 0 0 20px rgba(7, 255, 117, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n     }\n\n     100% {\n         box-shadow: 0 0 0 0 rgba(7, 255, 117, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n     }\n }\n\n@keyframes redPulse {\n    0% {\n        box-shadow: 0 0 0 0 rgba(255, 1, 95, 0.75), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n    }\n\n    70% {\n        box-shadow: 0 0 0 20px rgba(255, 1, 95, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n    }\n\n    100% {\n        box-shadow: 0 0 0 0 rgba(255, 1, 95, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n    }\n}\n\n</style>\n"]}]}