{"remainingRequest":"/Users/corentin/Desktop/ui/node_modules/thread-loader/dist/cjs.js!/Users/corentin/Desktop/ui/node_modules/babel-loader/lib/index.js!/Users/corentin/Desktop/ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/corentin/Desktop/ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/corentin/Desktop/ui/src/views/Box.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/corentin/Desktop/ui/src/views/Box.vue","mtime":1580038703840},{"path":"/Users/corentin/Desktop/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCb3ggZnJvbSAiLi4vc3RvcmUvTW9kZWxzL0JveCI7CmltcG9ydCBPdmVydmlld0NhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9PdmVydmlld0NhcmQiOwppbXBvcnQgVXNlciBmcm9tICIuLi9zdG9yZS9Nb2RlbHMvVXNlciI7CmltcG9ydCBBY3Rpb24gZnJvbSAnLi4vYWN0aW9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJCb3giLAogIGNvbXBvbmVudHM6IHsKICAgIE92ZXJ2aWV3Q2FyZDogT3ZlcnZpZXdDYXJkCiAgfSwKICBwcm9wczogWydib3hJZCddLAogIGNvbXB1dGVkOiB7CiAgICBib3g6IGZ1bmN0aW9uIGJveCgpIHsKICAgICAgcmV0dXJuIEJveC5maW5kKHRoaXMuYm94SWQpOwogICAgfSwKICAgIHJlY2FwOiBmdW5jdGlvbiByZWNhcCgpIHsKICAgICAgdmFyIGZsYWcgPSB0aGlzLmJveC5mbGFnOwoKICAgICAgaWYgKGZsYWcpIHsKICAgICAgICByZXR1cm4gIllvdSBoYXZlIG1haWwhIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIkJveCBpcyBlbXB0eSEiOwogICAgICB9CiAgICB9LAogICAgYWN0aW9uSWNvbjogZnVuY3Rpb24gYWN0aW9uSWNvbigpIHsKICAgICAgaWYgKHRoaXMuYm94Lm9wZW4pIHsKICAgICAgICByZXR1cm4gWydmYWwnLCAnbG9jay1vcGVuJ107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIFsnZmFsJywgJ2xvY2snXTsKICAgICAgfQogICAgfSwKICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5ib3gub3BlbiA/ICdMb2NrJyA6ICdVbmxvY2snOwogICAgfSwKICAgIGRlbGl2ZXJ5OiBmdW5jdGlvbiBkZWxpdmVyeSgpIHsKICAgICAgcmV0dXJuIFVzZXIucXVlcnkoKS53aXRoKCdib3hlcycpLmFsbCgpWzBdLmRlbGl2ZXJ5U2VydmljZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgIH0pOwogICAgfSwKICAgIGRvU3R1ZmY6IGZ1bmN0aW9uIGRvU3R1ZmYoKSB7CiAgICAgIGlmICh0aGlzLmJveC5vcGVuKSB7CiAgICAgICAgQWN0aW9uLmxvY2sodGhpcy5ib3guaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIEFjdGlvbi51bmxvY2sodGhpcy5ib3guaWQpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Box.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,GAAA,MAAA,qBAAA;AACA,OAAA,YAAA,MAAA,4BAAA;AACA,OAAA,IAAA,MAAA,sBAAA;AACA,OAAA,MAAA,MAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,YAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAAA,EAAA,CAAA,OAAA,CAHA;AAIA,EAAA,QAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,aAAA,GAAA,CAAA,IAAA,CAAA,KAAA,KAAA,CAAA;AACA,KAHA;AAIA,IAAA,KAJA,mBAIA;AACA,UAAA,IAAA,GAAA,KAAA,GAAA,CAAA,IAAA;;AACA,UAAA,IAAA,EAAA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAXA;AAYA,IAAA,UAZA,wBAYA;AACA,UAAA,KAAA,GAAA,CAAA,IAAA,EAAA;AACA,eAAA,CAAA,KAAA,EAAA,WAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,CAAA,KAAA,EAAA,MAAA,CAAA;AACA;AACA,KAlBA;AAmBA,IAAA,MAnBA,oBAmBA;AACA,aAAA,KAAA,GAAA,CAAA,IAAA,GAAA,MAAA,GAAA,QAAA;AACA,KArBA;AAsBA,IAAA,QAtBA,sBAsBA;AACA,aAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,OAAA,EAAA,GAAA,GAAA,CAAA,EAAA,eAAA;AACA;AAxBA,GAJA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AACA,UAAA,KAAA,GAAA,CAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,CAAA,EAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,KAAA,GAAA,CAAA,EAAA;AACA;AACA;AAVA;AA9BA,CAAA","sourcesContent":["<template>\n    <div id=\"box\">\n        <font-awesome-icon @click=\"goBack()\" class=\"back\" :icon=\"['fal', 'arrow-left']\" v-if=\"!delivery\"/>\n        <div id=\"header\">\n            <h1>{{box.name}}</h1>\n            <h5>{{box.address}}</h5>\n        </div>\n        <OverviewCard v-if=\"!delivery\">\n            <h1>{{recap}}</h1>\n            <h2>Last check <timeago :datetime=\"+box.lastChecked\"/></h2>\n        </OverviewCard>\n        <div id=\"action_button\" :lock=\"box.open\" @click=\"doStuff()\">\n            <div>\n                <font-awesome-icon class=\"icon\" :icon=\"actionIcon\"/>\n                <h1>{{action}}</h1>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Box from \"../store/Models/Box\";\nimport OverviewCard from \"../components/OverviewCard\";\nimport User from \"../store/Models/User\";\nimport Action from '../action';\n\nexport default {\n    name: \"Box\",\n    components: {OverviewCard},\n    props: ['boxId'],\n    computed: {\n        box(){\n            return Box.find(this.boxId);\n        },\n        recap(){\n            let flag = this.box.flag;\n            if(flag){\n                return `You have mail!`;\n            } else {\n                return `Box is empty!`\n            }\n        },\n        actionIcon(){\n            if(this.box.open){\n                return ['fal', 'lock-open'];\n            } else {\n                return ['fal', 'lock'];\n            }\n        },\n        action(){\n            return this.box.open ? 'Lock' : 'Unlock';\n        },\n        delivery(){\n            return User.query().with('boxes').all()[0].deliveryService;\n        }\n    },\n    methods: {\n        goBack(){\n            this.$router.push({name: 'home'});\n        },\n        doStuff(){\n            if(this.box.open){\n                Action.lock(this.box.id);\n            } else {\n                Action.unlock(this.box.id);\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.back{\n    font-size: 1.5em;\n    position: absolute;\n    top: 20px;\n    left: 20px;\n    opacity: .5;\n}\n#action_button{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 100px auto;\n    width: 150px;\n    height: 150px;\n    background: #fff;\n    border-radius: 100%;\n    text-align: center;\n    cursor: pointer;\n}\n\n#action_button .icon{\n    font-size: 2.5em;\n}\n\n#action_button h1{\n    font-weight: 300;\n    font-size: 1.5em;\n    margin: 0;\n}\n\n#action_button[lock]{\n    color: #ff015f;\n    border: 1px solid #ff015f;\n    animation: redPulse 2s infinite;\n}\n\n#action_button:not([lock]){\n    color: #07ff75;\n    border: 1px solid #07ff75;\n    animation: greenPulse 2s infinite;\n}\n\n@keyframes greenPulse {\n     0% {\n         box-shadow: 0 0 0 0 rgba(7, 255, 117, 0.75), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n     }\n\n     70% {\n         box-shadow: 0 0 0 20px rgba(7, 255, 117, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n     }\n\n     100% {\n         box-shadow: 0 0 0 0 rgba(7, 255, 117, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n     }\n }\n\n@keyframes redPulse {\n    0% {\n        box-shadow: 0 0 0 0 rgba(255, 1, 95, 0.75), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n    }\n\n    70% {\n        box-shadow: 0 0 0 20px rgba(255, 1, 95, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n    }\n\n    100% {\n        box-shadow: 0 0 0 0 rgba(255, 1, 95, 0), 0 0 30px rgba(0, 137, 255, 0.02), 0 0 10px rgba(0, 0, 0, 0.05);\n    }\n}\n\n</style>\n"],"sourceRoot":"src/views"}]}