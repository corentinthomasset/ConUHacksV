{"remainingRequest":"/Users/corentin/Desktop/ui/node_modules/babel-loader/lib/index.js!/Users/corentin/Desktop/ui/node_modules/eslint-loader/index.js??ref--13-0!/Users/corentin/Desktop/ui/src/action.js","dependencies":[{"path":"/Users/corentin/Desktop/ui/src/action.js","mtime":1580038569915},{"path":"/Users/corentin/Desktop/ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/corentin/Desktop/ui/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEJveCBmcm9tICIuL3N0b3JlL01vZGVscy9Cb3giOwppbXBvcnQgU29ja2V0IGZyb20gIi4vc29ja2V0IjsKaW1wb3J0IFVzZXIgZnJvbSAiLi9zdG9yZS9Nb2RlbHMvVXNlciI7CgpmdW5jdGlvbiBfdW5sb2NrKGJveElkKSB7CiAgQm94LnVwZGF0ZSh7CiAgICBkYXRhOiB7CiAgICAgIGlkOiBib3hJZCwKICAgICAgb3BlbjogdHJ1ZQogICAgfQogIH0pOwogIFNvY2tldC5lbWl0KCd1bmxvY2snLCBib3hJZCk7Cn0KCmZ1bmN0aW9uIF9sb2NrKGJveElkKSB7CiAgdmFyIHVzZXIgPSBVc2VyLnF1ZXJ5KCkuYWxsKClbMF07CgogIGlmICh1c2VyLmRlbGl2ZXJ5U2VydmljZSkgewogICAgQm94LnVwZGF0ZSh7CiAgICAgIGRhdGE6IHsKICAgICAgICBpZDogYm94SWQsCiAgICAgICAgb3BlbjogZmFsc2UsCiAgICAgICAgZmxhZzogdHJ1ZQogICAgICB9CiAgICB9KTsKICB9IGVsc2UgewogICAgQm94LnVwZGF0ZSh7CiAgICAgIGRhdGE6IHsKICAgICAgICBpZDogYm94SWQsCiAgICAgICAgb3BlbjogZmFsc2UsCiAgICAgICAgbGFzdENoZWNrZWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIGZsYWc6IGZhbHNlCiAgICAgIH0KICAgIH0pOwogIH0KCiAgU29ja2V0LmVtaXQoJ2xvY2snLCBib3hJZCk7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBsb2NrOiBmdW5jdGlvbiBsb2NrKGJveElkKSB7CiAgICBfbG9jayhib3hJZCk7CiAgfSwKICB1bmxvY2s6IGZ1bmN0aW9uIHVubG9jayhib3hJZCkgewogICAgX3VubG9jayhib3hJZCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/corentin/Desktop/ui/src/action.js"],"names":["Box","Socket","User","unlock","boxId","update","data","id","open","emit","lock","user","query","all","deliveryService","flag","lastChecked","Date","getTime"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;;AAEA,SAASC,OAAT,CAAgBC,KAAhB,EAAsB;AAClBJ,EAAAA,GAAG,CAACK,MAAJ,CAAW;AAACC,IAAAA,IAAI,EAAC;AACbC,MAAAA,EAAE,EAAEH,KADS;AAEbI,MAAAA,IAAI,EAAE;AAFO;AAAN,GAAX;AAIAP,EAAAA,MAAM,CAACQ,IAAP,CAAY,QAAZ,EAAsBL,KAAtB;AACH;;AAED,SAASM,KAAT,CAAcN,KAAd,EAAoB;AAChB,MAAIO,IAAI,GAAGT,IAAI,CAACU,KAAL,GAAaC,GAAb,GAAmB,CAAnB,CAAX;;AACA,MAAGF,IAAI,CAACG,eAAR,EAAwB;AACpBd,IAAAA,GAAG,CAACK,MAAJ,CAAW;AAACC,MAAAA,IAAI,EAAC;AACTC,QAAAA,EAAE,EAAEH,KADK;AAETI,QAAAA,IAAI,EAAE,KAFG;AAGTO,QAAAA,IAAI,EAAE;AAHG;AAAN,KAAX;AAKH,GAND,MAMO;AACHf,IAAAA,GAAG,CAACK,MAAJ,CAAW;AAACC,MAAAA,IAAI,EAAC;AACTC,QAAAA,EAAE,EAAEH,KADK;AAETI,QAAAA,IAAI,EAAE,KAFG;AAGTQ,QAAAA,WAAW,EAAE,IAAIC,IAAJ,GAAWC,OAAX,EAHJ;AAITH,QAAAA,IAAI,EAAE;AAJG;AAAN,KAAX;AAMH;;AACDd,EAAAA,MAAM,CAACQ,IAAP,CAAY,MAAZ,EAAoBL,KAApB;AACH;;AAED,eAAe;AACXM,EAAAA,IAAI,EAAE,cAACN,KAAD,EAAS;AAACM,IAAAA,KAAI,CAACN,KAAD,CAAJ;AAAY,GADjB;AAEXD,EAAAA,MAAM,EAAE,gBAACC,KAAD,EAAS;AAACD,IAAAA,OAAM,CAACC,KAAD,CAAN;AAAc;AAFrB,CAAf","sourcesContent":["import Box from \"./store/Models/Box\";\nimport Socket from \"./socket\";\nimport User from \"./store/Models/User\";\n\nfunction unlock(boxId){\n    Box.update({data:{\n        id: boxId,\n        open: true\n    }});\n    Socket.emit('unlock', boxId);\n}\n\nfunction lock(boxId){\n    let user = User.query().all()[0];\n    if(user.deliveryService){\n        Box.update({data:{\n                id: boxId,\n                open: false,\n                flag: true\n            }});\n    } else {\n        Box.update({data:{\n                id: boxId,\n                open: false,\n                lastChecked: new Date().getTime(),\n                flag: false\n            }});\n    }\n    Socket.emit('lock', boxId);\n}\n\nexport default {\n    lock: (boxId)=>{lock(boxId)},\n    unlock: (boxId)=>{unlock(boxId)}\n}\n"]}]}